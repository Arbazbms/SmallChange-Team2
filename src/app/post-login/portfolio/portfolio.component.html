<app-navbar></app-navbar>

<div class="container">
  <p class="h2">Your portfolio</p>
  <!-- <button (click)="submit()" >hello</button> -->
  <div
    class="shadow p-3 mb-5 bg-body rounded"
    style="overflow-x: auto; padding: 40px"
  >
    <table
      datatable
      [dtOptions]="dtOptions"
      class="row-border hover"
      #tableData
    >
      <thead>
        <tr>
          <th>Stock</th>
          <th>CostPrice</th>
          <th>MarketPrice</th>
          <th>Gain/Loss</th>
        </tr>
      </thead>

      <tbody>
        <tr *ngFor="let item of portfolio">
          <td>{{ item.instrument }}</td>
          <td>{{ item.costprice }}</td>
          <td>{{ item.marketprice }}</td>

          <td
            [ngClass]="{
              'text-success': item.gain >= 0,
              'text-danger': item.gain < 0
            }"
          >
            {{ item.gain }}
          </td>

          <td class="mybutton" onclick="displaySellTab(item.instrumentid)"></td>
        </tr>
      </tbody>
      <tfoot></tfoot>
    </table>
  </div>
</div>

<div *ngIf="showModal">
  <app-trade-transaction
    (soldAllStocks)="setSoldAllStocks($event)"
    (showModalEvent)="hideDialog($event)"
    [instrument]="instrument"
    [order]="order"
  ></app-trade-transaction>
</div>
